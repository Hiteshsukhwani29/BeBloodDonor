<!DOCTYPE html>
<html>
  <head>
    <title>Be Blood Donor</title>
    <link rel="shortcut icon" type="image/jpg" href="assets/images/favi.png"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, shrink-to-fit=no">
    <script src="https://www.gstatic.com/firebasejs/5.10.1/firebase.js"></script>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" >
    <link rel="stylesheet" type="text/css" href="assets/css/style.css" />
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.0/jquery.min.js"></script>
  
    <script>
      // Initialize Firebase
      var config = {  
        apiKey: "AIzaSyCK962kbgD3zW6QDi6wrR_APXPKWXx_djc",
  authDomain: "be-blood-donor.firebaseapp.com",
  databaseURL: "https://be-blood-donor-default-rtdb.firebaseio.com",
  projectId: "be-blood-donor",
  storageBucket: "be-blood-donor.appspot.com",
  messagingSenderId: "593603179460",
  appId: "1:593603179460:web:06c9a96e32992d26862a91"
      };
      firebase.initializeApp(config);
    </script>
  </head>

  <body>
    
 <header class="continer-fluid ">
            
            <div id="menu-jk" class="header-bottom">
                <div class="container">
                    <div class="row nav-row">
                        <div class="col-md-3 logo">
                          <a href="index.html"> <img src="assets/images/logo.jpg" alt=""></a>
                        </div>
                        <div class="col-md-9 nav-col">
                            <nav class="navbar navbar-expand-lg navbar-light">

                                <button
                                    class="navbar-toggler"
                                    type="button"
                                    data-toggle="collapse"
                                    data-target="#navbarNav"
                                    aria-controls="navbarNav"
                                    aria-expanded="false"
                                    aria-label="Toggle navigation">
                                    <span class="navbar-toggler-icon"></span>
                                </button>
                                <div class="collapse navbar-collapse" id="navbarNav">
                                    <ul class="navbar-nav">
                                        <li class="nav-item">
                                            <a class="nav-link" href="index.html">Home
                                            </a>
                                        </li>
                                         <li class="nav-item">
                                            <a class="nav-link" href="donate.html">Donate
                                            </a>
                                        </li>
                                         <li class="nav-item active">
                                            <a class="nav-link" href="donors.html">Search Donors
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </nav>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        
        
    <!-- ################# Slider Starts Here#######################--->

    <div class="slider-detail">

        <div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
            <ol class="carousel-indicators">
                <li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
                <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>

            </ol>
            <div class="carousel-inner">
                <div class="carousel-item active">
                    <img class="d-block w-100" src="assets/images/slider/slide-02.jpg" alt="First slide">
                    <div class="carousel-caption d-none d-md-block">
                        <h5 class=" bounceInDown">Donate Blood & Save a Life</h5>
                        <p class=" bounceInLeft">” When anyone signs a blood donor form, he is signing a lease of life for someone else.”</p>

                        <div class=" vbh ">

                            <a href="donate.html"><div class="btn  btn-danger  bounceInUp"> Donate Blood / Plasma </div></a>
                            <a href="donors.html"><div class="btn btn-danger  bounceInUp"> search Blood / Plasma </div></a>
                        </div>
                    </div>
                </div>

                <div class="carousel-item">
                    <img class="d-block w-100" src="assets/images/slider/slide-03.jpg" alt="Third slide">
                    <div class="carousel-caption vdg-cur d-none d-md-block">
                        <h5 class=" bounceInDown">Donate Blood & Save a Life</h5>
                        <p class=" bounceInLeft">” When anyone signs a blood donor form, he is signing a lease of life for someone else.”</p>

                        <div class=" vbh">

                            <a href="donate.html"><div class="btn btn-danger  bounceInUp"> Donate Blood / Plasma </div></a>
                           <a href="donors.html"> <div class="btn btn-danger  bounceInUp"> search Blood / Plasma </div></a>
                        </div>

                    </div>
                </div>

            </div>
            <a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                <span class="sr-only">Previous</span>
            </a>
            <a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                <span class="sr-only">Next</span>
            </a>
        </div>


    </div>

    <div id="requirements" class="container card" style=" padding-top: 30px;padding-bottom: 10px;width: 80%;
  background-color: #3f0d12;background-image: linear-gradient(315deg, #3f0d12 0%, #a71d31 74%); margin-top: 60px;
">
 <div class="card-title" style="text-align: center;color: #ffffff;font-family: arial black;">Fill Your Requirements</div>
    <form class="form-row" >
    <div class="form-group col-md-4 col-sm-12 center">

    <select class="form-control form-control-sm" id="distselect" onchange="runvaldist()">
  <option disabled selected>Choose District</option>
  <option value="Burhanpur">Burhanpur</option>
</select>
</div>
<div class="form-group col-md-4 col-sm-12">

   <select class="form-control form-control-sm" id="areaselect" onchange="runvalarea()">
    <option disabled selected>Choose Area</option>
  <option value="Burhanpur">Burhanpur</option>
  <option value="Khaknar">Khaknar</option>
  <option value="Nepanagar">Nepanagar</option>
  <option value="Shahpur">Shahpur</option>   
</select>
</div>
<div class="form-group col-md-4 col-sm-12">
<select class="form-control form-control-sm" id="bgselect" onchange="runvalbg()">
  <option disabled selected>Choose Blood Group</option>
  <option value="A +ve">A +ve</option>
  <option value="B +ve">B +ve</option>
  <option value="O +ve">O +ve</option>
  <option value="AB +ve">AB +ve</option>
  <option value="A -ve">A -ve</option>
  <option value="B -ve">B -ve</option>
  <option value="O -ve">O -ve</option>
  <option value="AB -ve">AB -ve</option>
</select>
</div>
<div class="form-group col-md-12 col-sm-12">
 <center><button class="btn btn-primary" onclick="result(dist,area,bg)" type="button">Search</button></center>
</div>
</form>
</div>

                <div class="container" style="margin-top: 50px;">
                  <center> 
                 <div class="row" id="showingfor" style="display: none;justify-content: center;">
                  <div class="col-sm-8" style="background-color:#BCB07B;padding-top: 10px;">
                    <h2>Showing Results For :</h2>
                   </div>
                   <div class="col-sm-8"style="background-color: #ecdd9a;padding-top: 10px; ">
                    <h6 id="showingdist"></h6>
                   </div>
                   <div class="col-sm-8" style="background-color: #ecdd9a;padding-top: 10px; ">
                     <h6 id="showingarea"></h6>
                   </div>
                   <div class="col-sm-8" style="background-color: #ecdd9a;padding-top: 10px; ">
                     <h6 id="showingbg"></h6>
                   </div>
                 </div>
                     
                   <div id="report"class="col-sm-8" style="display:none;"><br><a href="https://docs.google.com/forms/d/e/1FAIpQLSckUf0wsktqrEQBk7sD3wIcKKgv0HRSa0AUgrBO3o_Zm1L4Wg/viewform?usp=sf_link"><p  style="color: grey;"><img src="assets/images/report.png" width="28px" height="28px"> Report User</p></a><br></div>
                   
                   </center>
                
                               <div class="row" id="cards" style="margin-top: 40px;">
          
                             </div>
                            
                </div>


                    
            
    <script>
      var area,bg,dist;
      var database = firebase.database();
      database.ref('user').once('value', function(snapshot) {
        if (snapshot.exists()) {
          var content = '';
          snapshot.forEach(function(data) {
            var val = data.val();
             length=snapshot.numChildren()
            var plasma=val.plasma;
            var dist=val.district;
            var area=val.area;
            var bloodg=val.bg;

            console.log(plasma);
            if(plasma=="Yes"){
              content+='<div class="col-md-6 col-lg-4 sm-8 '+dist+area+bloodg+'" style="position: relative;margin-bottom:20px;padding-bottom:-30px;display:none;">        <img src="assets/images/card.svg" style="width:100%;height:100%;">        <span style="position: absolute;left: 12%;top: 13%;font-family: Arial Black;font-style: normal;font-weight: normal;font-size: 18px;line-height: 20px;/* identical to box height */display: flex;align-items: center;color: #F6F6F6;">'+val.name+'</span><div style="position:absolute;width: 50px;height: 20px;left: 12%;top: 28%;text-align: center;background: #FFFFFF;border-radius: 29px;"><center><span style="position: relative;width: 100%;height: 100%;display: inline-block;font-family:Arial;font-style: normal;font-weight: bold;font-size: 13px;line-height: 19px;color: #000000;">'+val.bg+'</span></center></div><div style="position: absolute;width: 20px;height: 2px;left: 26%;top:32%;background-color: #ffffff;transform: rotate(90deg);"></div><span style="position: absolute;left: 31%;top: 27%;font-family: Archivo;font-style: normal;font-weight: bold;font-size: 16px;align-items: center;color: #FFFFFF;">'+val.area+', '+val.district+'</span><span style="position: absolute;left: 13%;top: 44%;font-family: Archivo;font-style: normal;font-weight: 600;font-size: 16px;line-height: 17px;display: flex;align-items: center;color: #FFFFFF;"><i class="fas fa-phone-alt"></i>&nbsp;&nbsp;&nbsp;&nbsp;'+val.phone+'</span><div style="position: absolute;left: 13%;top:56%;font-family: Archivo;font-style: normal;font-weight: normal;font-size: 14px;line-height: 13px;display: flex;align-items: center;color: #FFFFFF;">  <i class="fas fa-map-marked-alt" style="font-size: 16px;"></i></div>  <span style="position: absolute;left: 22%;top:56%;width: 60%;word-wrap: break-word;font-family: Archivo;font-style: normal;font-weight: normal;font-size:13px;line-height: 13px;display: inline-block;text-align:left; color: #ffffff;">'+val.address+'</span><div style="position: absolute;padding:5px 15px 5px 15px;left:60%;top: 80%;font-family: Arial Black;font-style: normal;font-weight: normal;font-size: 18px;line-height: 20px;/* identical to box height */text-align: center;color: #FFFFFF;background: rgba(107, 4, 4, 0.7);border-radius: 12px;">Plasma</div></div>'
            }
          
if(plasma=="No"){
    
content+='<div class="col-md-6 col-lg-4 sm-8 '+dist+area+bloodg+'" style="position: relative;margin-bottom:20px;padding-bottom:-30px;display:none;">        <img src="assets/images/card.svg" style="width:100%;height:100%;">        <span style="position: absolute;left: 12%;top: 13%;font-family: Arial Black;font-style: normal;font-weight: normal;font-size: 18px;line-height: 20px;/* identical to box height */display: flex;align-items: center;color: #F6F6F6;">'+val.name+'</span><div style="position:absolute;width: 50px;height: 20px;left: 12%;top: 28%;text-align: center;background: #FFFFFF;border-radius: 29px;"><center><span style="position: relative;width: 100%;height: 100%;display: inline-block;font-family:Arial;font-style: normal;font-weight: bold;font-size: 13px;line-height: 19px;color: #000000;">'+val.bg+'</span></center></div><div style="position: absolute;width: 20px;height: 2px;left: 26%;top:32%;background-color: #ffffff;transform: rotate(90deg);"></div><span style="position: absolute;left: 31%;top: 27%;font-family: Archivo;font-style: normal;font-weight: bold;font-size: 16px;align-items: center;color: #FFFFFF;">'+val.area+', '+val.district+'</span><span style="position: absolute;left: 13%;top: 44%;font-family: Archivo;font-style: normal;font-weight: 600;font-size: 16px;line-height: 17px;display: flex;align-items: center;color: #FFFFFF;"><i class="fas fa-phone-alt"></i>&nbsp;&nbsp;&nbsp;&nbsp;'+val.phone+'</span><div style="position: absolute;left: 13%;top:56%;font-family: Archivo;font-style: normal;font-weight: normal;font-size: 14px;line-height: 13px;display: flex;align-items: center;color: #FFFFFF;">  <i class="fas fa-map-marked-alt" style="font-size: 16px;"></i></div>  <span style="position: absolute;left: 22%;top:56%;width: 60%;word-wrap: break-word;font-family: Archivo;font-style: normal;font-weight: normal;font-size:13px;line-height: 13px;display: inline-block;text-align:left; color: #ffffff;">'+val.address+'</span></div>'
}
 

          });
$('#cards').append(content);
        }

      });
function runvaldist(){
dist=document.getElementById("distselect").value;
console.log(dist);
}
function runvalarea(){
area=document.getElementById("areaselect").value;
console.log(area);
}
function runvalbg(){
bg=document.getElementById("bgselect").value;
console.log(bg);
}
       function result(a,b,c){
         document.getElementById("showingdist").innerHTML="District : "+a;
        document.getElementById("showingarea").innerHTML="Area : "+b;
        document.getElementById("showingbg").innerHTML="Blood Group : "+c;
        document.getElementById("requirements").style.display="none";
        document.getElementById("cards").style.display="block";
         document.getElementById("report").style.display="block";
        document.getElementById("showingfor").style.display="flex";
        
        var i=0;
        for(i=0;i<100;i++){
      document.getElementsByClassName(a+b+c)[i].style.display="inline-block";
      }
     
    }
    </script>
  </body>
   <script src="assets/js/jquery-3.2.1.min.js"></script>
    <script src="assets/js/popper.min.js"></script>
    <script src="assets/js/bootstrap.min.js"></script>
    <script src="assets/plugins/grid-gallery/js/grid-gallery.min.js"></script>
    <script src="assets/plugins/scroll-fixed/jquery-scrolltofixed-min.js"></script>
    <script src="assets/js/script.js"></script>
  <script src='https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/js/all.min.js'></script>
</html>
